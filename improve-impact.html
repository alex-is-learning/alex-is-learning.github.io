<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Improve Impact</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="terminal">
    <div class="terminal-header">
      <span class="terminal-dot dot-red"></span>
      <span class="terminal-dot dot-yellow"></span>
      <span class="terminal-dot dot-green"></span>
      <span style="margin-left:10px;">alexanderlarge@githubpages:~$</span>
    </div>
    <nav>
      <a href="index.html">Home</a>
      <a href="improve-thinking.html">Improve Thinking</a>
      <a href="improve-systems.html">Improve Systems</a>
      <a href="improve-friendships.html">Improve Friendships</a>
      <a href="improve-health.html">Improve Health</a>
      <a href="improve-wellbeing.html">Improve Wellbeing</a>
    </nav>
    <h1>1. Improve Impact</h1>
    <ul>
      <li>At the moment my main sprint is getting a full-time job in the Effective Altruist space.</li>
      <li>I'm orienting to jobs with the long-term goal of becoming a Chief of Staff or Chief Operating Officer.</li>
      <li>I have the long-term north star of "I could be a high-impact leader".</li>
      <li>Whilst applying for roles, I'm upskilling in AI security, biosecurity and nuclear.</li>
    </ul>
<h2>My AI Safety Learning Progress</h2>
<p>
    Cumulative hours spent: <span id="beeminder-hours">Loading...</span>
</p>
<iframe src="https://www.beeminder.com/widget?slug=impact--ai-safety&username=alexislearning" height="185px" width="230px" frameborder="0px"></iframe>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const dataFilePath = './assets/data/beeminder_goals_data.json'; // Path to your local data file
        const cacheBustUrl = dataFilePath + '?t=' + new Date().getTime(); 

        // Slug for the AI safety goal, should match what's in your Python script & JSON file
        const aiSafetyGoalSlug = "impact--ai-safety"; 

        const displayElement = document.getElementById("beeminder-hours");

        fetch(cacheBustUrl) // Fetches the LOCAL JSON FILE
            .then(response => {
                if (!response.ok) {
                    console.warn(`Could not fetch ${dataFilePath}. Status: ${response.status}`);
                    throw new Error(`Network response was not ok: ${response.statusText} - ${response.status}`);
                }
                return response.json();
            })
            .then(allGoalData => {
                console.log("Beeminder goals data loaded from local file:", allGoalData);

                if (displayElement) {
                    if (allGoalData[aiSafetyGoalSlug] && 
                        allGoalData[aiSafetyGoalSlug].current_value !== undefined && 
                        allGoalData[aiSafetyGoalSlug].error === undefined) {
                        
                        const hours = parseFloat(allGoalData[aiSafetyGoalSlug].current_value).toFixed(2);
                        displayElement.textContent = `${hours}`; 
                    } else if (allGoalData[aiSafetyGoalSlug] && allGoalData[aiSafetyGoalSlug].error) {
                        displayElement.textContent = 'Error fetching goal data';
                        console.warn(`Error for goal ${aiSafetyGoalSlug}: ${allGoalData[aiSafetyGoalSlug].error}`);
                    } else {
                        displayElement.textContent = 'N/A'; 
                        console.warn(`Data for slug "${aiSafetyGoalSlug}" not found in the JSON file or was undefined.`);
                    }
                } else {
                    console.warn('HTML element with ID "beeminder-hours" not found.');
                }
            })
            .catch(error => {
                console.error('Error fetching or processing local Beeminder goals data:', error);
                if (displayElement) {
                    displayElement.textContent = 'Error loading data.';
                }
            });
    });
</script> 
</body>
</html>
